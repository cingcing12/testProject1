<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Credit Card Input</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body class="bg-light d-flex justify-content-center align-items-center vh-100">

<!-- <div class="card p-4 shadow-lg" style="width: 22rem;">
    <h5 class="text-center">Enter Card Details</h5>
    <div class="mb-3">
        <label for="cardNumber" class="form-label">Card Number</label>
        <div class="input-group">
            <span class="input-group-text"><img id="cardLogo" src="" alt="" width="30"></span>
            <input type="tel" class="form-control" id="cardNumber" maxlength="19" placeholder="0000 0000 0000 0000" oninput="formatCardNumber(this)">
        </div>
        <small class="text-danger d-none" id="cardError">Invalid card number</small>
    </div>
    <button class="btn btn-primary w-100" disabled id="submitBtn">Submit</button>
</div> -->
<input type="text" id="cardNumber" maxlength="19" placeholder="0000 0000 0000 0000" oninput="formatCardNumber(this)">

<script>
function formatCardNumber(input) {
    // Remove all non-digit characters
    let value = input.value.replace(/\D/g, '/');

    // Insert a space after every 4 digits
    value = value.replace(/(.{4})/g, '$1 ').trim();

    // Update input field
    input.value = value;
}



// function formatCardNumber(input) {
//     let value = input.value.replace(/\D/g, ''); // Remove non-numeric characters
//     value = value.replace(/(.{4})/g, '$1 ').trim(); // Add spaces every 4 digits
//     input.value = value;

//     // Detect card type
//     let cardType = detectCardType(value.replace(/\s/g, ''));
//     let cardLogo = document.getElementById("cardLogo");
    
//     if (cardType) {
//         cardLogo.src = `https://raw.githubusercontent.com/muhammederdem/credit-card-form/master/src/assets/images/${cardType}.png`;
//         cardLogo.style.display = "block";
//     } else {
//         cardLogo.style.display = "none";
//     }

//     // Validate input length
//     let error = document.getElementById("cardError");
//     let submitBtn = document.getElementById("submitBtn");

//     if (value.length < 19) {
//         error.classList.remove("d-none");
//         submitBtn.disabled = true;
//     } else {
//         error.classList.add("d-none");
//         submitBtn.disabled = false;
//     }
// }

// function detectCardType(number) {
//     let patterns = {
//         visa: /^4/,
//         mastercard: /^5[1-5]/,
//         amex: /^3[47]/,
//         discover: /^6/,
//     };

//     for (let [card, pattern] of Object.entries(patterns)) {
//         if (pattern.test(number)) return card;
//     }
    // return null;
// }
</script>

</body>
</html>
